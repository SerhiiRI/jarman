#+TITLE: Agenda
#+TODO: PLANNED(s) TODO(t) PROCESSING(p) TOREVIEW(r) | DONE(d)
#+TAGS: @Julia(j) @Aleks(a) @Serhii(s)
#+PRIORITIES: 1 3 2
#+PROPERTY: session *EL* 
#+PROPERTY: cache yes
#+ARCHIVE: %s_done::
#+STARTUP: overview

* Frontend
** TOREVIEW [#1] /Feature/. Interaction files [3/3]                  :@Aleks:
   :PROPERTIES:
   :CUSTOM_ID: interaction-function-set
   :END:
   - [X] =interaction.clj= [5/5]
     implement file with simple proxy function where every funciton is just wrapper
     with spec and good to read docs.
     - [X] add function =open file in tab= as arg will be file path [4/4]
       - [X] Open file
       - [X] Auto syntax by extension file
       - [X] Manual syntax set
       - [X] Change syntax in runtime with combobx
     - [X] invoke alert [info warning danger]
     - [X] Hard restart. Recompiling plugin and clean-up global state
       - [X] Write doc
     - [X] Soft restart. Reaload gui
       - [X] Write doc
     - [X] Restart. The same as hard without state.
       - [X] Write doc
   - [X] Doom debugger [4/4]
     - [X] Container on bottom
     - [X] Resize in runtime
     - [X] Open/New, Hide, Close
     - [X] Ricardo inside
   - [X] =faces.clj=
     Finish moving to new customization style
     
** PROCESSING [#1] /Feature/. Jarman Theme Light Style [5/6]
   - [X] rewrite styles config
   - [X] global font
   - [X] global background
   - [X] global foreground
   - [X] removing unnessesary font override         
   - [ ] unifing styles in UI
** PROCESSING [#1] Frontend refactorization [0/8]
*** TOREVIEW Repair expand button [2/2]                              :@Aleks:
    - [X] Rainbow margin -> Space margin
    - [X] Separate last element in inside expand
*** TOREVIEW New icons as fonts [7/7]                                :@Aleks:
    - [X] New fn for icon return (~gui-style/icon GoogleMaterialDesignIcons/some-icon "#000" 30)~
    - [X] Demo to quick startup in gui_style.clj
    - [X] Set new feature to alert system
    - [X] Set demo alerts (access: developer, buttons will show in main menu)
    - [X] New face for close icon, listen event mouse entered
    - [X] Set new feature to menu bars
    - [X] Set new feature to other if needed
*** TODO Alerts upgrade [4/5]                                        :@Aleks:
    - [X] /Feature/. Success alert type.
    - [X] /Feature/. TMP storage. invoking alerts after some event like loaded app.
    - [X] /Feature/. Add simple button to alerts insted body
    - [X] /Feature/. Add vector with fns rendering components insted body
    - [-] /Feature/. warning alert, which notify user about update
      - [X] Button with update manager invoking
      - [ ] Check update
*** TODO Table.clj [3/4]                                             :@Aleks:
    - [X] remove 1pixel black border for right table.
    - [ ] rewrite expand panel
    - [X] make icon smaller, on 10-20%
    - [X] Move Table title to left side (nope, on center looks better), and colorize in "ocean blue" color, julia use it in login panel.
*** TODO Main view & Styling [2/4]                                   :@Aleks:
    - [X] Gui View Service [2/2]
      - [X] On tabs replace non-active tab on more brighter color.
      - [X] ON tabs replace ~x~ icon on one color.
    - [X] Default styling [4/4]
      - [X] Font. Set global Font's for all GUI components, becuase all plugins also must inherit those.
      - [X] Background. Set global background for all components.
      - [X] Foreground. Set global background for all components.
      - [X] Set default scrollbar size.
    - [-] change slider menu [3/5]
      - [ ] enable/disable slider menu in ~.jarman~ configuraion.
      - [ ] slider menu size, put this option to ~theme faces~
      - [X] to ~close-app~ also add ~logout~
      - [X] remove ~Change work mode~, and add optino to ~.jarman~ which will be add "key icon" to slider menu.
      - [X] Remove ~Db visuliser~ from left bar.
    - [-] Main Menu [5/8]
      - [ ] main menu size, put this option to theme faces
      - [ ] Main menu as hide/show section
      - [ ] Add documentation how to correctly pin some components to menus. Also add more information to the Exceptions
	When i pin my panel, i get exception
	#+begin_example
	Gui view service: Cannot rerender :view-spaceWrong number of args (0) passed to: jarman.gui.gui-main-menu/default-menu-items/fn--28447
	#+end_example
	This is missunderstandable, please make throw some Exeption
      - [X] Levels. Add spaces inside expand buttons groups. Expand in expand.
      - [X] Repeat colors for levels in expand button
      - [X] Change all black font's on closelly to black. Use some *dark-gray*, with blue-direction - ~#030D1C~ as example.
      - [X] Also for expand buttons use bold ubuntu fonts (looks little crappy).
      - [X] Chnage ordering items in menubar. At first place user must saw all buisness tables, and next any other *setting* or *db visualizer* etc.
*** PLANNED Rewrite expand panel
*** PLANNED Service Periods plugins [0/3]                            :@Aleks:
    - [ ] Expand buttons [0/7]
      - [ ] Buttons must be resizable, and scaled to window width.
      - [ ] Not hide expanded button, when checkbox was clicked. Julia add coments inside plugin, about this issue (find "TODO" mark)
      - [ ] make less color differencess between embaded expand buttons.
      - [ ] Also in future change `+/-` icons.
      - [ ] For Enterperneur use this format style "X-kom, 400 zl", money color must be pastel green.
      - [ ] For Service Contract use this format stlye notation "30-12-2020 - 04-01-2021,  200 zl", money also in green.
      - [ ] For Service Months use ths format style notation "01-01-2020 - 04-01-2021,  100 zl", money also in pastel green.
    - [ ] Julia call it *insert-space*, is section where we adding new service contract. Rewrite whole panel, but keep logic as we create before.
    - [ ] After you click on one month, you can edit all service contract month payments. You can edit, only if month wasn't payed. Rewrite Julia view, on your implementation. I think better be when all those month fields be in one line.
*** PLANNED Cooperative theme standarization [0/1]
    - [ ] Main menu [0/2]
      - [ ] Better colors for levels in expand button in ~Jarman Light~
      - [ ] Better colors for levels in expand button in ~Dracula~

** TODO [#2] /Bug/. DB Visualizer editing                      :@Aleks:@Serhii:
   1. [ ] Cannot edit table =view=
   2. [ ] Cannot open DB Visualizer editor. Some info must be showed, but no information and no error about that, with previosly and next too.
   3. [ ] Cannot edit metadata of table 
** TODO [#2] Switch into new language system                         :@Julia:
   - [ ] Just use language getter functions.
** TODO [#3] /Feature/. Update Manager                                 :@Aleks:
   - [ ] Related to [[#alert-boxes-replacement]], fix alert boxes.
   - [ ] Show popup with hard program restart
   - [ ] Button for reading log file /update-manager-log.org/
     - [ ] Open file interaction
** TODO [#3] /Feature/. Extension Manager [0/6]                        :@Aleks:
   - [ ] Related to [[#alert-boxes-replacement]], fix alert boxes.
   - [ ] Show extension file-tree. Alow editing file through the jarman [0/2]
     Related to [[#interaction-function-set]] use interaction to open file in tab
     - [ ] GUI part of tree file-view for package folder
     - [ ] Open file interaction 
   - [ ] Show whole information about package, from file /PandaPackage/ entity, when you click on
     special expand segment.
   - [ ] =Enable/Disable= extension
     - [ ] replace param in =.jarman=.
   - [ ] Extention searching/install template, because repository we currently doesnt have
     You will managed plugins as list of PandaPackage records.
   - [ ] Button for reading log file /extension-manager-log.org/
     - [ ] Open file interaction
** TODO [#3] /Feature/. Theme Manager                                  :@Aleks:
   - [ ] Related to [[#alert-boxes-replacement]], fix alert boxes.
   - [X] Make refreshing for jarman, when theme was selected
   - [ ] Button for reading log file /update-manager-log.org/
     - [ ] Open file interaction
** TODO [#3] /Feature/. Licenses [0/2]                         :@Aleks:@Serhii:
   Related to [[Register licence mechanics]] issue.  
   - [ ] insert licence GUI menu
   - [ ] Make template (put into some tmp file or place) [0/3]
     - [ ] Alert which making hard logout from system, and inform about computer count
     - [ ] Alert which inform on startup that licence is going to end
** PLANNED /Feature/. Global event on key pressed             :@Julia:@Aleks:
   - [X] Proxy for KeyEventDispacher for add global event on key pressed
   - [X] add and remove own KeyEventDispacher
   - [X] tutorial point
   - [ ] try add more KeyEventDispachers
   - [ ] lock repeating event on hold key
** PLANNED Make diagram from DB Visualiser
   - [ ] Visualize relation between tables
   - [ ] Save table location in DB visualiser into configurations
** PLANNED Debug space like doom popup but on bottom                 :@Aleks:
** PLANNED Scroll to selected in table                               :@Aleks:
   - [ ] Scroll to selected in table     
* Backend
** TODO [#3] /Feature/. Macro for declaring some resource              :@Julia:
   Create ~define-resource~ macro for definision of file
   #+begin_src clojure
     (define-resource jarman
       (io/file "."           ".jarman")
       (io/file env/user-home ".jarman"))
     ;;=>
     (def jarman-file-list
       (io/file "."           ".jarman")
       (io/file env/user-home ".jarman"))
     (defn get-jarman [] (first-exist jarman-dot-file-list))
   #+end_src
** TODO [#3] alert-try
** TODO [#1] Одужуй!                                                 :@Julia:
** TODO [#1] Permission system                                       :@Julia:
   - [ ] Rewrie user session object
     - [ ] keep licence file in session.
     - [ ] Make testing on permission
   - [ ] Add into /left-bar menu/, /left-menu/ functionlity that test user permission before
     render

** TODO [#3] Register licence mechanics                             :@Serhii:
   - [ ] Create =register-licence-file= functionality
   - [ ] decrypt/uncrypt by system RSA keys
   - [X] Checking login user in system, limited by the licence
** TODO [#2] check all steps of loading tables                      :@Serhii:
   in file view-manager.clj, markup TO DO,  add messages(println), if we need
** TODO [#3] /Feature/. Support Org file                              :@Serhii:
   - [-] Create library for printing directly to org file [2/3]
     - [X] Printing lib
     - [X] printing by level
     - [ ] Move out to different places in one moment [0/2]
       #+begin_src clojure
	 (print-header
	  {:out [] :text "some text"}
	  (some operations))
       #+end_src
       - [ ] file
       - [ ] print
   - [ ] Add parsing library
** PLANNED Service Period. sort contract list                       :@Serhii:
   - [ ] sorting contract by date
   - [ ] colorize contract by active-nonactive depend on current date
** PLANNED /Feature/. Emacs IDE split out-environment [0/2]           :@Serhii:
   - [ ] Auto tail reverting logs buffer
   - [ ] Integrate local toolkit for emacs.
     - [ ] Open log buffer.
** PLANNED Ekka todo#1 chages                         :@Julia:@Aleks:@Serhii:
*** Підприємець
    -   ЄДРПОУ - 10 цифр довжина з переду нулями
    -   Форма власності - комбобокс
    -   Номер ПДВ
     
*** Point of sale
    -   Назва торгового обєкту
     
*** РРО
    -   повна назва
    -   Заводський номер замість серійний
    -   Десять цифр фіскальний номер
    -   Працює.непрацює якщо робить нарахування
    -   Версія -> Версія прошивки
    -   Ідентифікатор виробника -> Просто виробник назва
    -   Три поля модему замінити на тип зв'язку GPRS,Ethernet,Wireless.комбобокс. Якщо ГПРС то активний телефонний номер, якщо ні то дай компонент неактивним
    -   Телефонний номер не модема а РРО
    
*** Пломби
     -   Використана чи ні.
     
*** Ремонти
      -   остання датат контаркуту видалити
      -   Фіскальний номер
      -   Дата
      -   Причина розпломбування - комбо
      -   Технічна насправність  - список
      -   Характер насправності  - вибір
      -   Яка пломба ставиться   - додати
      -   Час(дата.година) розпломбування апарту
      
*** ДОговір сервісного обслуговування
       -   підприємець
       -   Сторона підписуванн
       -   Сторона замовник(директор)
       -   Список касових апаратів
       -   Тариф
       -   Реквізити
       -   Строк дії договору(дефолт на рік)
       -   Нарахунок по дням
       
*** Акт виконаних робіт
	-   створити
** PLANNED Add history of state                                :@Serhii:
   - [ ] safe history
   - [ ] restore state
   - [ ] ~redo/undo~ only test
** PLANNED encrypt business files                              :@Serhii:
   - [ ] create crypo toolkit
   - [ ] create key-storage
** PLANNED Rewrite test for SSQL toolkit                :@Julia:@Serhii:
   Current testable API too old. API standard was reimplemented.
   And strongly need to rewrite test cases for oll things query.
** PLANNED Versioning data structure                                :@Serhii:
** PLANNED sql_tools | debug                                   :@Serhii:
    - [ ] pretty printing for sql syntax
** DONE [#1] defvar managment                                       :@Serhii:
   CLOSED: [2021-09-25 Sat 14:46]
   After app loading, we have some values in system variables, divided by group name,
   - [X] Allow defvar declaration for all the places
   - [X] Fix defvar spec. 
   - [X] Save config in place in =.jarman= file
   - [X] GUI for listing all registred config's variable
   - [X] Debug for all variables
   - [X] Debug for one variables
** DONE [#1] /Bug/. Throw exception when .jarman fialed               :@Serhii:
   CLOSED: [2021-09-18 Sat 20:37]
** DONE [#1] /Feature/. Rewrite plugin system                         :@Serhii:
   CLOSED: [2021-09-20 pon. 04:29] DEADLINE: <2021-09-09 Thu>
   - [X] Add ~:deps~ key into ~package~
     - [X] create package compiling sequence 
   - [X] View plugin
     - [X] Registration function.
       - [X] Remove duplications of loaded plugins
   - [X] Theme plugin [3/3]
     with relation to [[themes plugin system]]
     - [X] Theme declaration
     - [X] Registration function
     - [X] GUI Theme manager
   - [X] Rename PandaPackage to PandaExtension
   - [X] Languages support
     [[file:jarman/src/jarman/gui/gui_tools.clj::208][lang in system]]
     #+begin_src clojure
       ;; src/jarman/gui/gui_tools.clj:208
       (defvar selected-lang :ua)
       ;; 
       (lang :accept)
       (lang :dracula :theme-name)
     #+end_src

** DONE [#3] In load circle integrate setting variable :@Julia:@Aleks:@Serhii:
   CLOSED: [2021-09-25 Sat 18:55]
   in some load-level add manual setted variable for some systme things, that shouldn't be 
   memberd in =.jarman=. Or thay must have some deault values which be rewrited by the 
   =.jarman= loader.
   #+begin_src clojure
     ...
     (setq language-system :en)
     (setq supported-language [:en :pl :ua])
     ...
   #+end_src
* Infrastructure
* Documentations
** PLANNED [#3] create jarman manifest file                         :@Serhii:
   - Note taken on [2021-09-02 чт 19:01] 
     After making first release of Jarman and finishing plugin system write
     Manifest which must explain to us and others:
     
     - what idea of program evolution 
     - which things must be scalled, what must be classificated
        as Core and unchanged with no reason part of jarman
     - strategy and aims   

       
   

   
   
